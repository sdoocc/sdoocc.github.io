(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{921:function(e,t,a){"use strict";a.r(t);var n=a(22),r=a(23),s=a(26),i=a(24),l=a(25),o=a(0),c=a.n(o),u=a(75),p=a(77),d=a(47),h=a(14),v=a(44),m=(a(31),a(12)),f=function(e){function t(e){var a;Object(n.a)(this,t),a=Object(s.a)(this,Object(i.a)(t).call(this,e));var r=window.location.protocol+"//"+window.location.hostname+":"+window.location.port;return a.state={data:"",url:r+"/bshop",response:"res"},a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"updateDate",value:function(e){if(e&&e.target){var t=e.target.value.trim();this.setState({data:t})}}},{key:"updateUrl",value:function(e){if(e&&e.target){var t=e.target.value;this.setState({url:t})}}},{key:"doSend",value:function(){var e=this,t=Object(m.loadLocalAccount)();if(t&&t.secret){var a=t.secret,n=(new Date).getTime();n-=n%3e5;var r=Object(m.signString)(a,t.pk+n),s=this.state.url;try{var i=this.state.data;i=i.replaceAll("{^\\{\\},}+",'"$0"');var l=JSON.parse(i);l.signature=r,l.pk=t.pk,Object(m.postSafe)(s,l,function(t,a){console.log(t+":"+a);var n=t+":"+a;e.setState({response:n})})}catch(c){var o=c.toString();this.setState({response:o})}}else this.setState({response:"login first"})}},{key:"render",value:function(){var e=this;return c.a.createElement(u.a,null,c.a.createElement(p.a,null,c.a.createElement(v.a,null,c.a.createElement(d.a,{type:"text",name:"textarea-input",id:"textar",placeholder:this.state.url,onChange:this.updateUrl.bind(this)})),c.a.createElement(v.a,null,c.a.createElement(d.a,{type:"textarea",name:"textarea-input",id:"textarea-input",rows:"5",placeholder:"data",onChange:this.updateDate.bind(this)})),c.a.createElement(v.a,null,c.a.createElement(d.a,{type:"textarea",name:"textarea-input",id:"textarea-input",rows:"5",value:this.state.response})),c.a.createElement(v.a,null,c.a.createElement(h.a,{color:"danger",onClick:function(){e.doSend()},size:"sm"},"/bshop"))))}}]),t}(o.Component);t.default=f}}]);