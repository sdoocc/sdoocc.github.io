(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{842:function(e,t,a){"use strict";a.r(t),function(e){var n=a(22),r=a(23),l=a(24),c=a(25),i=a(10),s=a(0),o=a.n(s),d=a(85),u=a(86),m=a(87),p=a(14),h=a(137),f=a(71),E=a(67),g=a(68),y=a(83),v=a(45),w=a(84),P=a(42),b=a(44),k=a(41),O=a(38),S=a(11),j=a(96);function D(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(i.a)(e);if(t){var r=Object(i.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(c.a)(this,a)}}var H=function(t){Object(l.a)(c,t);var a=D(c);function c(e){var t;return Object(n.a)(this,c),(t=a.call(this,e)).page=1,t.state={list:[],page:1,count:0,paying:!1,fee:"1",deadline:"5"},t}return Object(r.a)(c,[{key:"componentDidMount",value:function(){var t=this,a=window.location.hash,n="",r="",l="",c="0",i="";if(a){var s=a.indexOf("#",1),o=a.indexOf("#",s+1),d=a.substr(s+1,o-s-1),u=e.from(d,"hex").toString().split("$&");if(s>0){l=u[0];var m=u[1];c=u[2],r=u[3],a=u[4],i=u[5],(n=u[6]).endsWith(".html")&&(n=n.substr(0,n.length-5)),n&&this.setState({title:n,needPay:m,encrypted:c,hint:r})}}var p={id:l,tags:n+".html",owner:i};this.setState({playingResource:p}),"0"===c?setTimeout(function(){var e=Object(S.loadLocalAccount)();e||(e={secret:"anonymous"+(new Date).toDateString()+"-"+Math.random()}),Object(S.startPlayer)(e.secret,t.state.playingResource)},500):this.setState({showPwdHint:!0})}},{key:"togglePurchase",value:function(){this.setState({paying:!this.state.paying})}},{key:"doPurchase",value:function(){}},{key:"togglePwdHint",value:function(){this.setState({showPwdHint:!this.state.showPwdHint})}},{key:"updatePwd",value:function(e){if(e&&e.target){var t=e.target.value;this.setState({resourcePwd:t})}}},{key:"renderPwdModal",value:function(){var e=this;if(!this.state.showPwdHint)return null;var t=this.state.hint.split("$&");return o.a.createElement(f.a,{isOpen:this.state.showPwdHint,toggle:function(){return e.togglePwdHint()},className:"modal-info "+this.props.className},o.a.createElement(E.a,{toggle:function(){return e.togglePwdHint()}},"\u8d44\u6e90\u5df2\u7ecf\u52a0\u5bc6,\u8bf7\u8f93\u5165\u8d44\u6e90\u5bc6\u7801"),o.a.createElement(g.a,null,o.a.createElement(y.a,null,"\u5bc6\u7801\u63d0\u793a\uff1a"+t[0]),o.a.createElement(v.a,{size:"16",type:"text",placeholder:"\u8f93\u5165\u8d44\u6e90\u5bc6\u7801",onChange:this.updatePwd.bind(this)})),o.a.createElement(w.a,null,o.a.createElement(p.a,{color:"danger",onClick:function(){return e.togglePwdHint()}},"\u53d6\u6d88"),o.a.createElement(p.a,{color:"danger",onClick:function(){var a=Object(S.loadLocalAccount)();a||(a={secret:"anonymous"+(new Date).toDateString()+"-"+Math.random()}),t.length>1&&t[1]!==Object(S.simpleHash)(e.state.resourcePwd).substr(0,10)||(e.togglePwdHint(),Object(S.startPlayer)(a.secret,e.state.playingResource,e.state.resourcePwd))}},"\u786e\u8ba4")))}},{key:"renderPurchaseDialog",value:function(){var e=this;return o.a.createElement(f.a,{isOpen:this.state.paying,toggle:this.togglePurchase.bind(this),className:"modal-info "+this.props.className},o.a.createElement(E.a,{toggle:this.togglePurchase.bind(this)},"\u652f\u4ed8\u670b\u53cb\u5708\u4fe1\u606f"),o.a.createElement(g.a,null,o.a.createElement(P.a,null,o.a.createElement("div",{className:"controls"},o.a.createElement(b.a,{className:"input-prepend"},o.a.createElement(k.a,{addonType:"prepend"},o.a.createElement(O.a,null,this.state.title))))),o.a.createElement(P.a,null,o.a.createElement("div",{className:"controls"},o.a.createElement(b.a,{className:"input-prepend"},o.a.createElement(k.a,{addonType:"prepend"},o.a.createElement(O.a,null,"\u4ef7\u683c:")),o.a.createElement(v.a,{id:"appendedPrependedInput",size:"16",type:"text",value:1}),o.a.createElement(k.a,{addonType:"append"},o.a.createElement(O.a,null,"\u79ef\u5206"))))),o.a.createElement(P.a,null,o.a.createElement("div",{className:"controls"},o.a.createElement(b.a,{className:"input-prepend"},o.a.createElement(k.a,{addonType:"prepend"},o.a.createElement(O.a,null,o.a.createElement(j.a,{id:"min123",text:"\u673a\u5668\u4eba\u8d39:",content:"\u673a\u5668\u4eba\u4e3a\u8d26\u6237\u4f59\u989d\u6bd4\u8f83\u591a\u7684\u8d26\u6237\u968f\u673a\u4ea7\u751f\uff0c\u8d1f\u8d23\u9a8c\u8bc1\u6240\u6709\u4ea4\u6613\u662f\u5426\u7b26\u5408\u89c4\u5219,\u5e76\u5c06\u5408\u6cd5\u4ea4\u6613\u4fdd\u5b58\u5230\u533a\u5757\u94fe\u3002\u673a\u5668\u4eba\u4fdd\u8bc1\u6574\u4e2a\u7cfb\u7edf\u6309\u7167\u89c4\u5219\u8fd0\u884c\u3002\u540c\u65f6\u83b7\u5f97\u673a\u5668\u4eba\u8d39\u3002"}))),o.a.createElement(v.a,{id:"appendedPrependedInput",size:"16",type:"text",onChange:function(t){return e.setState({fee:t})},placeholder:"\u6700\u5c110.01\u4e2a"}),o.a.createElement(k.a,{addonType:"append"},o.a.createElement(O.a,null,"\u79ef\u5206"))))),this.renderDeadline(),o.a.createElement("div",null,o.a.createElement("p",null,this.state.purchaseMsg)),o.a.createElement("div",{className:"form-actions"},o.a.createElement(p.a,{type:"submit",color:"primary",onClick:function(t){return e.doPurchase()}},"\u8d2d\u4e70"),o.a.createElement(p.a,{color:"secondary",onClick:function(t){return e.togglePurchase()}},"\u53d6\u6d88"))))}},{key:"renderDeadline",value:function(){return null}},{key:"renderPayButton",value:function(){return 0==this.state.needPay?null:o.a.createElement(h.a,{color:"primary"},"\u6536\u8d39\u670b\u53cb\u5708\u4fe1\u606f\u9700\u8981\u4ed8\u8d39\u7ed9\u4f5c\u8005\u540e\u624d\u53ef\u4ee5\u67e5\u770b\u5168\u90e8\u5185\u5bb9\u3002  ",o.a.createElement("a",{href:"http://www.sdoo.cc/sdoo.apk"},"\u70b9\u51fb\u4e0b\u8f7d\u5b89\u5353\u5ba2\u6237\u7aef\u652f\u4ed8")," ")}},{key:"renderIframe",value:function(){return o.a.createElement("div",{id:"iframe",style:{width:"100%"}})}},{key:"renderPlayer",value:function(){return this.state.iframe?null:o.a.createElement("div",{id:"status"},o.a.createElement("div",{id:"output"},o.a.createElement("div",{id:"progressBar"}),o.a.createElement("div",null,o.a.createElement("code",{id:"tags"})),o.a.createElement("div",null,o.a.createElement("code",{id:"numPeers"},"0 \u8282\u70b9"),". \u4e0b\u8f7d\u901f\u5ea6",o.a.createElement("code",{id:"downloadSpeed"},"0 b/s ")," / \u2197 \u4e0a\u4f20\u901f\u5ea6",o.a.createElement("code",{id:"uploadSpeed"},"0 b/s - "),"\u5df2\u7ecf\u4e0b\u8f7d",o.a.createElement("code",{id:"downloaded"})," \u5171",o.a.createElement("code",{id:"total"}))),o.a.createElement("div",null,o.a.createElement("span",null,"\u672a\u8d2d\u4e70\u8d44\u6e90\u6216\u8d26\u6237\u6ca1\u6709\u79ef\u5206\u53ea\u80fd\u4e0b\u8f7d\u6216\u9884\u89c810%."),o.a.createElement("a",{href:"/#/miner"},"\u83b7\u53d6\u79ef\u5206")),o.a.createElement("div",null,o.a.createElement("a",{id:"downloadLink"},"\u4fdd\u5b58")),o.a.createElement("div",{id:"player",style:{width:"100%"}}))}},{key:"render",value:function(){return o.a.createElement("div",{id:"playdiv"},o.a.createElement(d.a,null,o.a.createElement(u.a,null,this.renderPayButton(),this.renderPurchaseDialog(),this.renderPwdModal(),this.state.title),o.a.createElement(m.a,null,this.renderPlayer(),this.renderIframe())))}}]),c}(s.Component);t.default=H}.call(this,a(6).Buffer)}}]);